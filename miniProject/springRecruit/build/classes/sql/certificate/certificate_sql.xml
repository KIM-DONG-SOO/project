<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="certificate">
    
    <resultMap type="com.spring.recruit.vo.CertificateVO" id="certificateVO">
    	<result property="seq" 	column="SEQ"/>
    	<result property="certSeq" 	column="CERT_SEQ"/>
		<result property="qualifiName" 	column="QUALIFI_NAME"/>
		<result property="acquDate" 		column="ACQU_DATE"/>
		<result property="organizeName" 	column="ORGANIZE_NAME"/>
		
    </resultMap>
    
    
    <select id="selectCertList" parameterType="com.spring.recruit.vo.CertificateVO" resultMap="certificateVO">
        SELECT 
			CERT_SEQ
			,SEQ
        	,QUALIFI_NAME
        	,ACQU_DATE
        	,ORGANIZE_NAME
		FROM 
			CERTIFICATE
		WHERE
			SEQ = #{seq}
    </select>
    
    
    
    <insert id="insertCertificate" parameterType="com.spring.recruit.vo.CertificateVO" >
       	<selectKey resultType="string" keyProperty="certSeq" order="BEFORE">
    		SELECT TO_CHAR(CERT_SEQ.NEXTVAL) FROM DUAL
    	</selectKey>
        INSERT INTO
        CERTIFICATE
        	(
			CERT_SEQ
			,SEQ
        	,QUALIFI_NAME
        	,ACQU_DATE
        	,ORGANIZE_NAME
        	) 
		VALUES 
			(
			#{certSeq}
			,#{seq}
			,#{qualifiName}
			,#{acquDate}
			,#{organizeName}
			)
    </insert>
    
    
    <update id="updateCertificate" parameterType="com.spring.recruit.vo.CertificateVO" >
        UPDATE CERTIFICATE
        SET
			CERT_SEQ = #{certSeq}
			,SEQ = #{seq}
        	,QUALIFI_NAME = #{qualifiName}
        	,ACQU_DATE = #{acquDate}
        	,ORGANIZE_NAME = #{organizeName}
		WHERE 
			CERT_SEQ = #{certSeq}
    </update>
    
    
    
    
</mapper>
